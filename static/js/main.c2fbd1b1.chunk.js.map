{"version":3,"sources":["components/LoginView/LoginView.module.css","components/Form/Form.module.css","components/Filter/Filter.module.css","components/PersonEditor/PersoneEditor.module.css","components/Navigation/Navigation.module.css","components/UserMenu/UserMenu.module.css","components/AuthNav/AuthNav.module.css","components/AppBar/AppBar.module.css","redux/contacts/contacts-selectors.js","redux/contacts/actions.js","redux/auth/auth-selectors.js","components/Navigation/Navigation.js","redux/auth/auth-operations.js","components/UserMenu/UserMenu.js","components/AuthNav/AuthNav.js","components/AppBar/AppBar.js","components/LoginView/LoginView.js","components/RegisterView/RegisterView.js","components/Filter/Filter.js","redux/contacts/contacts-operations.js","components/Form/Form.js","components/PersonEditor/PersonEditor.js","components/ContactsView.js","components/PrivateRoute.js","components/PublicRoute.js","App.js","redux/contacts/contactsReduser.js","redux/auth/auth-slice.js","redux/store.js","index.js","components/RegisterView/RegisterView.module.css"],"names":["module","exports","getFilter","state","contacts","filter","contactsSelector","getItems","items","getVisibleContacts","createSelector","entities","allContacts","normalizedFilter","toLowerCase","entitie","name","includes","addContactRequest","createAction","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","filterContacts","changeFilterContacts","fetchContactsRequest","fetchContactsSuccess","actions","fetchContactsError","selectors","getIsLoggedIn","auth","isLoggedIn","getIsAuthenticated","isAuthenticated","getUsername","user","getIsRefreshing","isRefreshing","Navigation","useSelector","authSelectors","class","s","container","to","exact","className","h2","axios","defaults","baseURL","token","headers","common","Authorization","register","createAsyncThunk","credentials","a","post","data","console","log","logIn","operations","logOut","getCurrentUser","_","thunkAPI","getState","persistedToken","rejectWithValue","get","UserMenu","dispatch","useDispatch","gradientButton","type","onClick","authOperations","AuthNav","navlinks","AppBar","header","mapDispatchToProps","onLogin","connect","useState","email","setEmail","password","setPassword","handleChange","target","value","onSubmit","e","preventDefault","autoComplete","form","row","col25","label","input","onChange","onRegister","setName","fetchContacts","addContact","number","contact","id","uuidv4","then","catch","error","deleteContact","contactId","delete","contactSelector","setNumber","nameInputId","numberInputId","reset","style","find","alert","htmlFor","event","currentTarget","pattern","title","required","persons","onDeleteContacts","useEffect","length","map","person","contactsLi","span","ContactsView","contactsOperations","PrivateRoute","children","routeProps","PublicRoute","restricted","shoulRedirect","formSubmitHandler","addContacts","deleteContacts","path","createReducer","payload","isLoading","filterReducer","combineReducers","authSlice","createSlice","initialState","extraReducers","fulfilled","action","pending","rejected","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authReducer","contactsReducer","devTools","process","storePersistor","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","getElementById"],"mappings":"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","file":"static/js/main.c2fbd1b1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"LoginView_input__1rP-7\",\"container\":\"LoginView_container__3VLIR\",\"row\":\"LoginView_row__JOQGZ\",\"col25\":\"LoginView_col25__3MUvP\",\"col-75\":\"LoginView_col-75__3__GG\",\"col-25\":\"LoginView_col-25__1Sr_5\",\"gradientButton\":\"LoginView_gradientButton__2yCIs\",\"form\":\"LoginView_form__1zswJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Form_input__1Hfvc\",\"container\":\"Form_container__395f-\",\"row\":\"Form_row__8AX5p\",\"col25\":\"Form_col25__2hRNs\",\"col-75\":\"Form_col-75__2On1R\",\"col-25\":\"Form_col-25___YHKQ\",\"label\":\"Form_label__2OhGT\",\"gradientButton\":\"Form_gradientButton__2sOgT\",\"form\":\"Form_form__3Qb-D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"Filter_input__3Rlgc\",\"container\":\"Filter_container__1BOqg\",\"row\":\"Filter_row__AHvio\",\"col25\":\"Filter_col25__22Yf_\",\"col-75\":\"Filter_col-75__1iSOP\",\"col-25\":\"Filter_col-25__3NZ9k\",\"label\":\"Filter_label__RnXeK\",\"gradientButton\":\"Filter_gradientButton__1bbuy\",\"form\":\"Filter_form__2B-UA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contacts\":\"PersoneEditor_contacts__3f3wa\",\"span\":\"PersoneEditor_span__1lb5g\",\"contactsLi\":\"PersoneEditor_contactsLi__31K-8\",\"gradientButton\":\"PersoneEditor_gradientButton__3BSJA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"h2\":\"Navigation_h2__2wzoH\",\"container\":\"Navigation_container__23cGA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"UserMenu_container__3D097\",\"gradientButton\":\"UserMenu_gradientButton__1GUOS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navlinks\":\"AuthNav_navlinks__jBtpH\",\"active\":\"AuthNav_active__3xtYr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"AppBar_header__16l2q\"};","import { createSelector } from \"@reduxjs/toolkit\";\r\n\r\n\r\nconst getItems=state=>state.contacts.items;\r\nconst getFilter=state=>state.contacts.filter;\r\nconst getContacts=state=>state.contacts.items.entities\r\n\r\n/* const getVisibleContacts=state=>{\r\n    const filter=getFilter(state);\r\n    const allContacts=getContacts(state);\r\n    const normalizedFilter = filter.toLowerCase();\r\n    return allContacts.filter(entitie=>entitie.name.toLowerCase().includes(normalizedFilter))\r\n  } */\r\n\r\n   const getVisibleContacts=createSelector([getFilter,getContacts],(filter,allContacts)=>{\r\n    const normalizedFilter = filter.toLowerCase();\r\n    return allContacts.filter(entitie=>entitie.name.toLowerCase().includes(normalizedFilter)) \r\n}) \r\n\r\nconst contactsSelector={getItems,getFilter,getVisibleContacts};\r\nexport default contactsSelector","\r\n\r\nimport { createAction} from '@reduxjs/toolkit'\r\n\r\nexport const addContactRequest = createAction('todos/addContactRequest');\r\nexport  const addContactSuccess=createAction('contacts/addContactSuccess')\r\nexport const addContactError = createAction('todos/addContactError');\r\n\r\nexport const deleteContactRequest = createAction('todos/deleteContactRequest');\r\nexport const deleteContactSuccess = createAction('todos/deleteContactSuccess');\r\nexport const deleteContactError = createAction('todos/deleteContactError');\r\n\r\n const filterContacts=createAction('contacts/filter')\r\n/* const filterContacts=value=>({\r\n    type:types.FILTER,\r\n    payload: value\r\n\r\n}); */\r\n const changeFilterContacts=createAction('contacts/changeFilter')\r\n/* const changeFilterContacts=value=>({\r\n    type:types.CHANGE_FILTER,\r\n    payload: value\r\n\r\n}); */\r\n const fetchContactsRequest=createAction('contacts/fetchContactsRequest')\r\n const fetchContactsSuccess=createAction('contacts/fetchContactsRequest')\r\n const fetchContactsError=createAction('contacts/fetchContactsRequest')\r\n\r\n const actions={fetchContactsError,\r\n    fetchContactsSuccess,\r\n    fetchContactsRequest,\r\n    changeFilterContacts,\r\n    filterContacts,\r\n    addContactRequest,\r\n    addContactSuccess,\r\n    addContactError,\r\n    deleteContactRequest,\r\n    deleteContactSuccess,\r\n    deleteContactError\r\n\r\n}\r\nexport default actions;","const getIsAuthenticated = state => state.auth.isAuthenticated;\r\n\r\nconst getUsername = state => state.auth.user.name;\r\nconst getIsLoggedIn=state=>state.auth.isLoggedIn;\r\nconst getIsRefreshing=state=>state.auth.isRefreshing\r\n\r\n\r\nconst selectors={\r\n    getIsLoggedIn,\r\n    getIsAuthenticated,\r\n    getUsername,\r\n    getIsRefreshing\r\n}\r\n\r\nexport default selectors ;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport  authSelectors from '../../redux/auth/auth-selectors';\r\nimport s from './Navigation.module.css'\r\n\r\n\r\n\r\nfunction Navigation(){\r\n  const isLoggedIn=useSelector(authSelectors.getIsLoggedIn)\r\n  return(<nav class={s.container}>\r\n    {isLoggedIn && (\r\n      <NavLink to=\"/contacts\" exact>\r\n        <h2 className={s.h2}>Телефонная книга </h2>  \r\n      </NavLink>\r\n      )}</nav>\r\n  )\r\n \r\n}\r\n\r\n\r\nexport default Navigation;\r\n","import { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\n\r\n\r\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\n/*\r\n * POST @ /users/signup\r\n * body { name, email, password }\r\n *\r\n * После успешной регистрации добавляем токен в HTTP-заголовок\r\n */\r\nconst register = createAsyncThunk('auth/register', async credentials=>{\r\n  try {\r\n    const {data} = await axios.post('/users/signup', credentials);\r\n    token.set(data.token)\r\n    return data;\r\n    \r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n} );\r\n\r\n  \r\n\r\n/*\r\n * POST @ /users/login\r\n * body:\r\n *    { email, password }\r\n *\r\n * После успешного логина добавляем токен в HTTP-заголовок\r\n */\r\nconst logIn= createAsyncThunk('auth/login', async credentials=>{\r\n\r\n  try {\r\n    const {data} = await axios.post('/users/login', credentials);\r\n    token.set(data.token)\r\n    return data;\r\n\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n});\r\n\r\n/*\r\n * POST @ /users/logout\r\n * headers:\r\n *    Authorization: Bearer token\r\n *\r\n * 1. После успешного логаута, удаляем токен из HTTP-заголовка\r\n */\r\nconst logOut =createAsyncThunk('auth/logout',async ()=>{\r\n  try {\r\n    await axios.post('/users/logout');\r\n\r\n    token.unset();\r\n    //dispatch(actions.logoutSuccess());\r\n  } catch (error) {\r\n    //dispatch(actions.logoutError(error.message));\r\n  }\r\n});\r\n\r\n/*\r\n * GET @ /users/current\r\n * headers:\r\n *    Authorization: Bearer token\r\n *\r\n * 1. Забираем токен из стейта через getState()\r\n * 2. Если токена нет, выходим не выполняя никаких операций\r\n * 3. Если токен есть, добавляет его в HTTP-заголовок и выполянем операцию\r\n */\r\nconst getCurrentUser=createAsyncThunk('users/current',async(_,thunkAPI)=>{\r\nconst state=thunkAPI.getState();\r\nconst persistedToken= state.auth.token;\r\nif (persistedToken===null){\r\n   return thunkAPI.rejectWithValue();\r\n}\r\ntoken.set(persistedToken);\r\ntry{\r\n  const {data} = await axios.get('/users/current');\r\n  console.log(data);\r\n  return data\r\n}catch(error){\r\n  console.log(error)\r\n}\r\n\r\n});\r\n\r\n /*  token.set(persistedToken);\r\n  dispatch(actions.getCurrentUserRequest());\r\n\r\n  try {\r\n    const response = await axios.get('/users/current');\r\n\r\n    dispatch(actions.getCurrentUserSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(actions.getCurrentUserError(error.message));\r\n  }\r\n; */\r\nconst operations={ register, logOut, logIn, getCurrentUser }\r\nexport default operations;","import React from 'react';\r\nimport {useDispatch, useSelector } from 'react-redux';\r\nimport authSelectors from '../../redux/auth/auth-selectors';\r\nimport authOperations from '../../redux/auth/auth-operations';\r\nimport s from './UserMenu.module.css';\r\n\r\n\r\n\r\nfunction UserMenu(){\r\n  const dispatch=useDispatch();\r\n  const name=useSelector(authSelectors.getUsername);\r\n return (<div className={s.container}>\r\n    \r\n    <span >Добро пожаловать, {name}</span>\r\n    <button className={s.gradientButton} type=\"button\" onClick={()=>dispatch(authOperations.logOut())\r\n    }>\r\n      Выйти\r\n    </button>\r\n  </div>)\r\n}\r\n\r\nexport default UserMenu;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport s from './AuthNav.module.css'\r\n\r\n\r\n\r\n\r\nfunction AuthNav(){\r\n  return(\r\n          <div>\r\n          <NavLink to=\"/register\" exact className={s.navlinks}> Регистрация</NavLink>\r\n          <NavLink to=\"/login\"  className={s.navlinks}> Логин </NavLink>\r\n          </div>\r\n  )\r\n}\r\n \r\n\r\n\r\nexport default AuthNav;","import React from 'react';\r\nimport Navigation from '../Navigation/Navigation';\r\nimport UserMenu from '../UserMenu/UserMenu';\r\nimport AuthNav from '../AuthNav/AuthNav';\r\nimport selectors from '../../redux/auth/auth-selectors';\r\nimport { useSelector } from 'react-redux';\r\nimport s from './AppBar.module.css';\r\n\r\n\r\n\r\nconst AppBar = () => {\r\n  const isLoggedIn=useSelector(selectors.getIsLoggedIn)\r\nreturn(\r\n    <header className={s.header}>\r\n    <Navigation />\r\n    {isLoggedIn?<UserMenu />: <AuthNav />}    \r\n    </header>\r\n    )\r\n};\r\n\r\n\r\nexport default AppBar;\r\n","import React,{useState} from 'react';\r\nimport { connect, useDispatch } from 'react-redux';\r\nimport authOperations from '../../redux/auth/auth-operations';\r\nimport s from './LoginView.module.css'\r\n\r\n\r\nfunction LoginView(){\r\n  const dispatch=useDispatch();\r\n  const [email,setEmail]=useState('');\r\n  const [password,setPassword]=useState('');\r\n\r\n  const handleChange=({target:{name,value}})=>{\r\n    switch(name){\r\n      case 'email':\r\n        return setEmail(value);\r\n      case 'password':\r\n        return setPassword(value);\r\n      default:\r\n        return;      \r\n    }\r\n  }\r\n\r\n  const handleSubmit=e=>{\r\n    e.preventDefault();\r\n    dispatch(authOperations.logIn({email,password}));\r\n    setEmail('');\r\n    setPassword('');\r\n  }\r\n\r\n  return (\r\n      <div className={s.container}>\r\n        <h3>Войдите в свой аккаунт</h3>\r\n\r\n        <form\r\n          onSubmit={handleSubmit}\r\n          autoComplete=\"off\"\r\n          className={s.form}\r\n        > <div class={s.row}>\r\n          <div class={s.col25}>\r\n          <label className={s.label}>\r\n           \r\n            Почта\r\n            <div class=\"col-75\">\r\n            <input\r\n              className={s.input}\r\n              type=\"email\"\r\n              name=\"email\"\r\n              value={email}\r\n              onChange={handleChange}\r\n            /></div>\r\n          </label></div></div>\r\n          <div class={s.row}>\r\n          <div class={s.col25}>\r\n\r\n          <label className={s.label}>\r\n            Пароль\r\n            <div class=\"col-75\">\r\n            <input\r\n            className={s.input}\r\n              type=\"password\"\r\n              name=\"password\"\r\n              value={password}\r\n              onChange={handleChange}\r\n            /></div>\r\n          </label></div></div>\r\n\r\n          <button type=\"submit\" className={s.gradientButton}>Войти</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n\r\n\r\nconst mapDispatchToProps = {\r\n  onLogin: authOperations.logIn,\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(LoginView);\r\n","import React, { useState } from 'react';\r\nimport { connect, useDispatch } from 'react-redux';\r\nimport authOperations from '../../redux/auth/auth-operations';\r\nimport s from './RegisterView.module.css'\r\n\r\n\r\n\r\nfunction RegisterView(){\r\n  const dispatch=useDispatch();\r\n  const [name,setName]=useState('');\r\n  const [email,setEmail]=useState('');\r\n  const [password,setPassword]=useState('');\r\n\r\n  const handleChange=({target:{name,value}})=>{\r\n    switch(name){\r\n      case 'name':\r\n        return setName(value);\r\n      case 'email':\r\n        return setEmail(value);\r\n      case 'password':\r\n        return setPassword(value);\r\n      default:\r\n        return;      \r\n    }\r\n  }\r\n const handleSubmit=e=>{\r\n   e.preventDefault();\r\n   dispatch(authOperations.register({name,email,password}));\r\n   setName('');\r\n   setEmail('');\r\n   setPassword('');\r\n }\r\n\r\n \r\n    return (\r\n      <div className={s.container}>\r\n        <h3>Введите данные для регистрации</h3>\r\n\r\n        <form\r\n          onSubmit={handleSubmit}\r\n          autoComplete=\"off\"\r\n          className={s.form}\r\n        >\r\n          <div class={s.row}>\r\n          <div class={s.col25}>\r\n          <label className={s.label}>\r\n            Имя\r\n            <div class=\"col-75\">\r\n            <input\r\n              className={s.input}\r\n              type=\"text\"\r\n              name=\"name\"\r\n              value={name}\r\n              onChange={handleChange}\r\n            /></div>\r\n          </label></div></div>\r\n\r\n          <div class={s.row}>\r\n          <div class={s.col25}>\r\n          <label className={s.label}>\r\n            Почта\r\n            <div class=\"col-75\">\r\n            <input\r\n            className={s.input}\r\n              type=\"email\"\r\n              name=\"email\"\r\n              value={email}\r\n              onChange={handleChange}\r\n              \r\n            /></div>\r\n          </label></div></div>\r\n\r\n          <div class={s.row}>\r\n          <div class={s.col25}>\r\n          <label className={s.label}>\r\n            Пароль\r\n            <div class=\"col-75\">\r\n            <input\r\n            className={s.input}\r\n              type=\"password\"\r\n              name=\"password\"\r\n              value={password}\r\n              onChange={handleChange}\r\n              \r\n            /></div>\r\n          </label></div></div>\r\n\r\n          <button type=\"submit\" className={s.gradientButton}>Зарегистрироваться</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n\r\n\r\nconst mapDispatchToProps = {\r\n  onRegister: authOperations.register,\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(RegisterView);\r\n","import React from 'react';\r\nimport s from './Filter.module.css'\r\nimport {connect} from 'react-redux'\r\nimport actions from '../../redux/contacts/actions'\r\nimport contactsSelector from '../../redux/contacts/contacts-selectors';\r\n\r\n\r\n\r\nconst Filter =({value,onChange})=>(\r\n  <div className={s.form}><div class={s.row}>\r\n  <div class={s.col25}>\r\n  <label className={s.label}><b>Поиск контакта по имени</b><div class=\"col-75\"><input className={\r\n    s.input\r\n  } type=\"Text\" value={value} onChange={onChange}/></div></label></div></div></div>\r\n\r\n);\r\nconst mapStateToProps=state=>({\r\n  value:contactsSelector.getFilter(state)\r\n}) \r\nconst mapDispatchToProps=dispatch=>({\r\n  onChange:e=>dispatch(actions.changeFilterContacts(e.target.value))\r\n})       \r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Filter);","import a from '../contacts/actions'\r\nimport axios from 'axios'\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\n\r\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\r\nconst fetchContacts = () => async dispatch => {\r\n  dispatch(a.fetchContactsRequest());\r\n  \r\n\r\n  try {\r\n    const { data } = await axios.get('/contacts');\r\n\r\n    dispatch(a.fetchContactsSuccess(data));\r\n  } catch (error) {\r\n    dispatch(a.fetchContactsError(error));\r\n  } }\r\n\r\n  const addContact = ({name,number}) => dispatch => {\r\n    const contact = {\r\n      id: uuidv4(),\r\n      name:name,\r\n      number:number,\r\n    };\r\n\r\n    \r\n\r\n    dispatch(a.addContactRequest());\r\n  \r\n    axios\r\n      .post('/contacts', contact)\r\n      .then(({ data }) => dispatch(a.addContactSuccess(data)))\r\n      .catch(error => dispatch(a.addContactError(error)));\r\n  \r\n    \r\n  };\r\n  \r\n  const deleteContact = contactId => dispatch => {\r\n    dispatch(a.deleteContactRequest());\r\n  \r\n    axios\r\n      .delete(`/contacts/${contactId}`)\r\n      .then(() => dispatch(a.deleteContactSuccess(contactId)))\r\n      .catch(error => dispatch(a.deleteContactError(error)));\r\n  };\r\n\r\nconst operations={fetchContacts,addContact,deleteContact}\r\n\r\nexport default operations;","import {useState} from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nimport {connect} from 'react-redux';\r\nimport operations from '../../redux/contacts/contacts-operations';\r\nimport contactSelector from '../../redux/contacts/contacts-selectors'\r\nimport style from './Form.module.css';\r\n\r\n\r\n\r\n\r\nfunction Form({onSubmit,entities}){\r\n  const [name,setName]=useState('');\r\n  const [number,setNumber]=useState('');\r\n\r\n  const nameInputId=uuidv4();\r\n  const numberInputId=uuidv4();\r\n\r\n  const handelChangeName=(event)=>{\r\n    const {value}=event.currentTarget;  \r\n    setName(value);\r\n  \r\n  }\r\n\r\n  const handelChangeNumber=(e)=>{\r\n    console.log(e);\r\n    const {value}=e.currentTarget;  \r\n    setNumber(value);\r\n\r\n  }\r\n\r\n    const handelSubmit=e=>{\r\n    e.preventDefault();\r\n    const user = entities.find(user => user.name === name);\r\n    if (!user){\r\n      onSubmit({name,number});\r\n    reset()\r\n\r\n    } else \r\n    alert (`${name} is already on contacts`)\r\n    reset()\r\n  }\r\n\r\n  const reset=()=>{\r\n      setName('');\r\n      setNumber('');\r\n  }\r\n\r\n  \r\n  return (\r\n    <>\r\n    <div className={style.container}>\r\n    <h3>Добавить контакт к телефонную книгу</h3>\r\n      <form className={style.form} onSubmit={handelSubmit}>\r\n      <div class={style.row}>\r\n          <div class={style.col25}>\r\n        <label htmlFor={nameInputId}> Имя </label></div></div>\r\n        <div class=\"col-75\">\r\n        <input className={style.input}\r\n              id={nameInputId}\r\n              onChange={handelChangeName}\r\n              value={name}\r\n              type=\"text\"\r\n              name=\"name\"\r\n              pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n              title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\r\n              required\r\n        /></div>\r\n\r\n       <label htmlFor={numberInputId}> Номер </label>\r\n       <input className={style.input}\r\n              id={numberInputId}\r\n              onChange={handelChangeNumber}\r\n              value={number}\r\n              type=\"tel\"\r\n              name=\"number\"\r\n              pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\r\n              title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\r\n              required\r\n       />\r\n       <button className={style.gradientButton}type=\"submit\">Добавить</button>\r\n    </form></div>\r\n\r\n</>\r\n);}\r\n\r\nconst mapStateToProps=state=>({\r\n  entities:contactSelector.getVisibleContacts(state)\r\n})\r\nconst mapDispatchToProps=dispatch=>({\r\n  \r\n  onSubmit:data=>dispatch(operations.addContact(data))\r\n})\r\n\r\n  export default connect(mapStateToProps,mapDispatchToProps)(Form);","\r\nimport s from './PersoneEditor.module.css';\r\nimport {connect, useDispatch} from 'react-redux';\r\nimport { useEffect } from 'react';\r\nimport operations from '../../redux/contacts/contacts-operations';\r\nimport contactsSelector from '../../redux/contacts/contacts-selectors';\r\n\r\n\r\n\r\nfunction PersonEditor({persons,onDeleteContacts}){\r\n  const dispatch=useDispatch();\r\n  \r\n  \r\n  useEffect(()=>{\r\n    dispatch(operations.fetchContacts())\r\n  },[dispatch]) \r\n\r\n   \r\n    return  (  <>\r\n      \r\n      <div className={s.contacts}>{persons.length? \r\n              <ul className={s.contacts}>{persons.map((person)=>\r\n                <li className={s.contactsLi} key={person.id}><span className={s.span}>{person.name}:{person.number}</span>\r\n                <button className={s.gradientButton}\r\n                    type=\"button\"\r\n                    onClick={() => onDeleteContacts(person.id)}>Удалить\r\n                </button>\r\n                </li>)}\r\n              </ul> : <p>В вашей телефонной книге пока нет записей</p>}\r\n            </div>  \r\n   </> )\r\n}\r\n\r\n\r\n\r\n const mapStateToProps=state=>({\r\n persons:contactsSelector.getVisibleContacts(state),\r\n})\r\n\r\n\r\nconst mapDispatchToProps=dispatch=>{\r\n  return{\r\n    onDeleteContacts:(id)=>dispatch(operations.deleteContact(id))\r\n  }\r\n}\r\n      \r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(PersonEditor);\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch} from 'react-redux';\r\nimport Filter from './Filter/Filter';\r\nimport Form from './Form/Form';\r\nimport PersonEditor from './PersonEditor/PersonEditor';\r\n//import authSelectors from '../../redux/auth/auth-selectors';\r\nimport contactsOperations from '../redux/contacts/contacts-operations'\r\n\r\nfunction ContactsView(){\r\n     const dispatch=useDispatch();\r\n     \r\n     useEffect(()=>dispatch(contactsOperations.fetchContacts()),[dispatch]);\r\n return (<>\r\n      <Form/> \r\n      <Filter/>\r\n      <PersonEditor /> \r\n      </>)\r\n\r\n\r\n\r\n }\r\n\r\n\r\n\r\nexport default ContactsView;","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport {  useSelector } from 'react-redux';\r\nimport authSelectors from '../redux/auth/auth-selectors';\r\n\r\n/**\r\n * - Если маршрут приватный и пользователь залогинен, рендерит компонент\r\n * - В противном случае рендерит Redirect на /login\r\n */\r\nfunction PrivateRoute({children,...routeProps}){\r\n  const isLoggedIn=useSelector(authSelectors.getIsLoggedIn)\r\n  return <Route {...routeProps}>{\r\n    isLoggedIn?children:<Redirect to =\"/login\"/>}</Route>\r\n} \r\n\r\nexport default PrivateRoute;","import React from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport authSelectors from '../redux/auth/auth-selectors';\r\n\r\n/**\r\n * - Если маршрут ограниченный, и пользователь залогинен, рендерит редирект на /todos\r\n * - В противном случае рендерит компонент\r\n */\r\nfunction PublicRoute({\r\n  children,\r\n  restricted=false,\r\n  ...routeProps}){\r\n  const isLoggedIn=useSelector(authSelectors.getIsLoggedIn);\r\n  const shoulRedirect=isLoggedIn&&restricted\r\n  return<Route {...routeProps}>{shoulRedirect?<Redirect to=\"/contacts\"/>:children}</Route>\r\n}\r\n\r\nexport default PublicRoute;","\r\nimport contactsSelector from './redux/contacts/contacts-selectors'\r\nimport {connect, useDispatch, useSelector} from 'react-redux'\r\nimport actions from './redux/contacts/actions';\r\nimport { Switch } from 'react-router-dom';\r\nimport AppBar from './components/AppBar/AppBar';\r\nimport LoginView from './components/LoginView/LoginView';\r\nimport RegisterView from './components/RegisterView/RegisterView';\r\nimport ContactsView from './components/ContactsView';\r\nimport { useEffect } from 'react';\r\nimport operations from './redux/auth/auth-operations'\r\nimport PrivateRoute from './components/PrivateRoute';\r\nimport PublicRoute from './components/PublicRoute';\r\nimport authSelectors from './redux/auth/auth-selectors';\r\n\r\n\r\n\r\n\r\n\r\nfunction App({formSubmitHandler,getVisibleContacts,deleteContacts}){\r\n  const dispatch= useDispatch();\r\n  const isRefreshing=useSelector(authSelectors.getIsRefreshing);\r\n  useEffect(()=>{dispatch(operations.getCurrentUser())},\r\n  [dispatch]);\r\n  return(\r\n    !isRefreshing &&\r\n    <><AppBar/>\r\n      <Switch>\r\n       <PublicRoute exact path='/register' restricted><RegisterView/></PublicRoute>\r\n       <PublicRoute  path='/login'restricted><LoginView/></PublicRoute>           \r\n       <PrivateRoute path='/contacts'><ContactsView/></PrivateRoute>\r\n       </Switch> \r\n    </>\r\n    \r\n)\r\n}\r\nconst mapStateToProps=state=>{\r\n  return {\r\n    items:contactsSelector.getItems(state),\r\n    filter:contactsSelector.getFilter(state)\r\n  }\r\n}\r\nconst mapDispatchToProps=dispatch=>{\r\n  return{\r\n    formSubmitHandler:value=> dispatch(actions.addContacts(value)),\r\n    getVisibleContacts:value=>dispatch(actions.filterContacts(value)),\r\n    deleteContacts:id=>dispatch(actions.deleteContacts(id)),\r\n    \r\n    \r\n\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(App);\r\n","import {combineReducers} from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport a from './actions';\r\n//import oper from './contacts-operations'\r\n\r\nconst entities=createReducer([], \r\n  {\r\n    [a.fetchContactsSuccess]:(_,{payload})=>payload,\r\n    [a.addContactSuccess]:(state,{payload})=>[...state,payload],\r\n    [a.deleteContactSuccess]:(state,{payload})=>state.filter(({ id }) => id !== payload),\r\n    /* [oper.addContact]:(state,{payload})=>{\r\n      const user = state.find(user => user.name === payload.name);\r\n      if (user){console.log(user);return [state]} return [...state,payload]\r\n    } */\r\n\r\n  })\r\nconst isLoading=createReducer(false,{\r\n  [a.fetchContactsRequest]: () => true,\r\n  [a.fetchContactsSuccess]: () => false,\r\n  [a.fetchContactsError]: () => false,\r\n  [a.addContactRequest]: () => true,\r\n  [a.addContactSuccess]: () => false,\r\n  [a.addContactError]: () => false,\r\n  [a.deleteContactRequest]: () => true,\r\n  [a.deleteContactSuccess]: () => false,\r\n  [a.deleteContactError]: () => false,\r\n\r\n\r\n})\r\n\r\nconst error = createReducer(null, {\r\n  [a.fetchContactsRequest]: () => null,\r\n  [a.fetchContactsError]: () => null,\r\n});\r\n\r\nconst filterReducer=createReducer('', {\r\n  [a.changeFilterContacts]:(_,{payload})=>payload,\r\n})\r\n\r\nexport default combineReducers({\r\n    items:combineReducers({\r\n      entities,\r\n      isLoading,\r\n      error\r\n    }),\r\n    filter:filterReducer,\r\n});","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport authOperations from './auth-operations'\r\nconst initialState={\r\n    user:{name:null, email:null},\r\n    token:null,\r\n    isLoggedIn:false,\r\n    isRefreshing:false\r\n     \r\n};\r\nconst authSlice=createSlice({\r\n    name:'auth',\r\n    initialState,\r\n    extraReducers:{\r\n        [authOperations.register.fulfilled](state,action){\r\n            state.user=action.payload.user;\r\n            state.token=action.payload.token;\r\n            state.isLoggedIn=true;\r\n\r\n        },\r\n        [authOperations.logIn.fulfilled](state,action){\r\n            state.user=action.payload.user;\r\n            state.token=action.payload.token;\r\n            state.isLoggedIn=true;\r\n\r\n        },\r\n        [authOperations.logOut.fulfilled](state){\r\n            state.user={name:null, email:null};\r\n            state.token=null;\r\n            state.isLoggedIn=false;\r\n\r\n        },\r\n        [authOperations.getCurrentUser.pending](state,action){\r\n            state.isRefreshing=true;\r\n        },\r\n        [authOperations.getCurrentUser.fulfilled](state,action){\r\n            state.user={...action.payload};\r\n            state.isLoggedIn=true;\r\n            state.isRefreshing=false;\r\n        },[authOperations.getCurrentUser.rejected](state,action){\r\n            state.isRefreshing=false;\r\n        }\r\n    },\r\n});\r\nexport default authSlice.reducer;","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\n// import logger from 'redux-logger';\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport  contactsReducer from './contacts/contactsReduser';\r\nimport  authReducer from './auth/auth-slice';\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n  // logger,\r\n];\r\n\r\nconst authPersistConfig = {\r\n  key: 'auth',\r\n  storage,\r\n  whitelist: ['token'],\r\n};\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    auth: persistReducer(authPersistConfig, authReducer),\r\n    contacts: contactsReducer,\r\n  },\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === 'development',\r\n});\r\n\r\nconst persistor = persistStore(store);\r\nconst storePersistor={ store, persistor }\r\nexport default storePersistor;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\nimport './index.css';\r\nimport App from './App';\r\nimport s from './redux/store'\r\nimport {Provider} from 'react-redux'\r\n\r\nconsole.log(s.store);\r\nconsole.log(s.store.getState());\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={s.store}>\r\n    <PersistGate loading={null} persistor={s.persistor}>\r\n      <BrowserRouter>\r\n    <App />\r\n    </BrowserRouter>\r\n    </PersistGate>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"RegisterView_input__2irEU\",\"container\":\"RegisterView_container__1kug8\",\"row\":\"RegisterView_row__2ojU6\",\"col25\":\"RegisterView_col25__1jVBw\",\"col-75\":\"RegisterView_col-75__1ZVAl\",\"col-25\":\"RegisterView_col-25__1NV2D\",\"label\":\"RegisterView_label__1NJpa\",\"gradientButton\":\"RegisterView_gradientButton__1JcRr\",\"form\":\"RegisterView_form__294VP\"};"],"sourceRoot":""}