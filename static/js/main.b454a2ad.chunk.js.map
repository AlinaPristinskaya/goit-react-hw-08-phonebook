{"version":3,"sources":["components/Form/Form.module.css","components/PersonEditor/PersoneEditor.module.css","components/Filter/Filter.module.css","redux/contacts/contacts-selectors.js","redux/contacts/actions.js","redux/auth/auth-selectors.js","components/AppBar/Navigation.js","redux/auth/auth-actions.js","redux/auth/auth-operations.js","components/AppBar/UserMenu.js","components/AppBar/AuthNav.js","components/AppBar/AppBar.js","components/AppBar/LoginView.js","components/AppBar/RegisterView.js","components/Filter/Filter.js","redux/contacts/contacts-operations.js","components/Form/Form.js","components/PersonEditor/PersonEditor.js","components/AppBar/ContactsView.js","App.js","redux/contacts/contactsReduser.js","redux/auth/auth-slice.js","redux/store.js","index.js"],"names":["module","exports","getFilter","state","contacts","filter","contactsSelector","getItems","items","getVisibleContacts","createSelector","entities","allContacts","normalizedFilter","toLowerCase","entitie","name","includes","addContactRequest","createAction","addContactSuccess","addContactError","deleteContactRequest","deleteContactSuccess","deleteContactError","filterContacts","changeFilterContacts","fetchContactsRequest","fetchContactsSuccess","actions","fetchContactsError","selectors","getIsLoggedIn","auth","isLoggedIn","getIsAuthenticated","isAuthenticated","getUsername","user","styles","link","display","textDecoration","padding","fontWeight","color","activeLink","connect","authSelectors","to","exact","style","activeStyle","registerRequest","registerSuccess","registerError","loginRequest","loginSuccess","loginError","logoutRequest","logoutSuccess","logoutError","getCurrentUserRequest","getCurrentUserSuccess","getCurrentUserError","axios","defaults","baseURL","token","headers","common","Authorization","register","createAsyncThunk","credentials","a","post","data","console","log","logIn","operations","logOut","getCurrentUser","dispatch","getState","persistedToken","get","response","message","container","alignItems","avatar","marginRight","UserMenu","useDispatch","useSelector","type","onClick","authOperations","AuthNav","header","justifyContent","borderBottom","form","width","label","flexDirection","marginBottom","mapDispatchToProps","onLogin","useState","email","setEmail","password","setPassword","handleChange","target","value","onSubmit","e","preventDefault","autoComplete","onChange","onRegister","setName","className","s","input","fetchContacts","addContact","number","contact","id","uuidv4","then","catch","error","deleteContact","contactId","delete","contactSelector","setNumber","nameInputId","numberInputId","reset","find","alert","htmlFor","event","currentTarget","pattern","title","required","button","persons","onDeleteContacts","useEffect","length","stats","map","person","item","ContactsView","contactsOperations","formSubmitHandler","addContacts","deleteContacts","path","component","LoginView","createReducer","_","payload","isLoading","filterReducer","combineReducers","authSlice","createSlice","initialState","extraReducers","fulfilled","action","middleware","getDefaultMiddleware","serializableCheck","ignoredActions","FLUSH","REHYDRATE","PAUSE","PERSIST","PURGE","REGISTER","authPersistConfig","key","storage","whitelist","store","configureStore","reducer","persistReducer","authReducer","contactsReducer","devTools","process","storePersistor","persistor","persistStore","ReactDOM","render","StrictMode","loading","document","getElementById"],"mappings":"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","file":"static/js/main.b454a2ad.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"Form_form__3Qb-D\",\"input\":\"Form_input__1Hfvc\",\"button\":\"Form_button__Rez1q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"stats\":\"PersoneEditor_stats__2X8tI\",\"item\":\"PersoneEditor_item__WImEq\",\"button\":\"PersoneEditor_button__1diWP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"label\":\"Filter_label__RnXeK\"};","import { createSelector } from \"@reduxjs/toolkit\";\r\n\r\n\r\nconst getItems=state=>state.contacts.items;\r\nconst getFilter=state=>state.contacts.filter;\r\nconst getContacts=state=>state.contacts.items.entities\r\n\r\n/* const getVisibleContacts=state=>{\r\n    const filter=getFilter(state);\r\n    const allContacts=getContacts(state);\r\n    const normalizedFilter = filter.toLowerCase();\r\n    return allContacts.filter(entitie=>entitie.name.toLowerCase().includes(normalizedFilter))\r\n  } */\r\n\r\n   const getVisibleContacts=createSelector([getFilter,getContacts],(filter,allContacts)=>{\r\n    const normalizedFilter = filter.toLowerCase();\r\n    return allContacts.filter(entitie=>entitie.name.toLowerCase().includes(normalizedFilter)) \r\n}) \r\n\r\nconst contactsSelector={getItems,getFilter,getVisibleContacts};\r\nexport default contactsSelector","\r\n\r\nimport { createAction} from '@reduxjs/toolkit'\r\n\r\nexport const addContactRequest = createAction('todos/addContactRequest');\r\nexport  const addContactSuccess=createAction('contacts/addContactSuccess')\r\nexport const addContactError = createAction('todos/addContactError');\r\n\r\nexport const deleteContactRequest = createAction('todos/deleteContactRequest');\r\nexport const deleteContactSuccess = createAction('todos/deleteContactSuccess');\r\nexport const deleteContactError = createAction('todos/deleteContactError');\r\n\r\n const filterContacts=createAction('contacts/filter')\r\n/* const filterContacts=value=>({\r\n    type:types.FILTER,\r\n    payload: value\r\n\r\n}); */\r\n const changeFilterContacts=createAction('contacts/changeFilter')\r\n/* const changeFilterContacts=value=>({\r\n    type:types.CHANGE_FILTER,\r\n    payload: value\r\n\r\n}); */\r\n const fetchContactsRequest=createAction('contacts/fetchContactsRequest')\r\n const fetchContactsSuccess=createAction('contacts/fetchContactsRequest')\r\n const fetchContactsError=createAction('contacts/fetchContactsRequest')\r\n\r\n const actions={fetchContactsError,\r\n    fetchContactsSuccess,\r\n    fetchContactsRequest,\r\n    changeFilterContacts,\r\n    filterContacts,\r\n    addContactRequest,\r\n    addContactSuccess,\r\n    addContactError,\r\n    deleteContactRequest,\r\n    deleteContactSuccess,\r\n    deleteContactError\r\n\r\n}\r\nexport default actions;","const getIsAuthenticated = state => state.auth.isAuthenticated;\r\n\r\nconst getUsername = state => state.auth.user.name;\r\nconst getIsLoggedIn=state=>state.auth.isLoggedIn;\r\n\r\n\r\nconst selectors={\r\n  getIsLoggedIn,\r\n  getIsAuthenticated,\r\n    getUsername,\r\n  }\r\n\r\nexport default selectors ;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport  authSelectors from '../../redux/auth/auth-selectors';\r\n\r\nconst styles = {\r\n  link: {\r\n    display: 'inline-block',\r\n    textDecoration: 'none',\r\n    padding: 12,\r\n    fontWeight: 700,\r\n    color: '#2A363B',\r\n  },\r\n  activeLink: {\r\n    color: '#E84A5F',\r\n  },\r\n};\r\n\r\nconst Navigation = ({ isAuthenticated }) => (\r\n  <nav>\r\n        <NavLink\r\n        to=\"/contacts\"\r\n        exact\r\n        style={styles.link}\r\n        activeStyle={styles.activeLink}\r\n      >Ваши Контакты   \r\n      </NavLink>\r\n  </nav>\r\n);\r\n\r\nconst mapStateToProps = state => ({\r\n  isAuthenticated: authSelectors.getIsAuthenticated(state),\r\n});\r\n\r\nexport default connect(mapStateToProps)(Navigation);\r\n","import { createAction } from '@reduxjs/toolkit';\r\n\r\nconst registerRequest = createAction('auth/registerRequest');\r\nconst registerSuccess = createAction('auth/registerSuccess');\r\nconst registerError = createAction('auth/registerError');\r\n\r\nconst loginRequest = createAction('auth/loginRequest');\r\nconst loginSuccess = createAction('auth/loginSuccess');\r\nconst loginError = createAction('auth/loginError');\r\n\r\nconst logoutRequest = createAction('auth/logoutRequest');\r\nconst logoutSuccess = createAction('auth/logoutSuccess');\r\nconst logoutError = createAction('auth/logoutError');\r\n\r\nconst getCurrentUserRequest = createAction('auth/getCurrentUserRequest');\r\nconst getCurrentUserSuccess = createAction('auth/getCurrentUserSuccess');\r\nconst getCurrentUserError = createAction('auth/getCurrentUserError');\r\n\r\n\r\nconst actions={\r\n    registerRequest,\r\n    registerSuccess,\r\n    registerError,\r\n    logoutRequest,\r\n    logoutSuccess,\r\n    logoutError,\r\n    loginRequest,\r\n    loginSuccess,\r\n    loginError,\r\n    getCurrentUserRequest,\r\n    getCurrentUserSuccess,\r\n    getCurrentUserError,\r\n  }\r\n\r\nexport default actions;","import { createAsyncThunk } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\nimport actions from './auth-actions';\r\n\r\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\r\n\r\nconst token = {\r\n  set(token) {\r\n    axios.defaults.headers.common.Authorization = `Bearer ${token}`;\r\n  },\r\n  unset() {\r\n    axios.defaults.headers.common.Authorization = '';\r\n  },\r\n};\r\n\r\n/*\r\n * POST @ /users/signup\r\n * body { name, email, password }\r\n *\r\n * После успешной регистрации добавляем токен в HTTP-заголовок\r\n */\r\nconst register = createAsyncThunk('auth/register', async credentials=>{\r\n  try {\r\n    const {data} = await axios.post('/users/signup', credentials);\r\n    token.set(data.token)\r\n    return data;\r\n    \r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n} );\r\n\r\n  \r\n\r\n/*\r\n * POST @ /users/login\r\n * body:\r\n *    { email, password }\r\n *\r\n * После успешного логина добавляем токен в HTTP-заголовок\r\n */\r\nconst logIn= createAsyncThunk('auth/login', async credentials=>{\r\n\r\n  try {\r\n    const {data} = await axios.post('/users/login', credentials);\r\n    token.set(data.token)\r\n    return data;\r\n\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n});\r\n\r\n/*\r\n * POST @ /users/logout\r\n * headers:\r\n *    Authorization: Bearer token\r\n *\r\n * 1. После успешного логаута, удаляем токен из HTTP-заголовка\r\n */\r\nconst logOut =createAsyncThunk('auth/logout',async ()=>{\r\n  try {\r\n    await axios.post('/users/logout');\r\n\r\n    token.unset();\r\n    //dispatch(actions.logoutSuccess());\r\n  } catch (error) {\r\n    //dispatch(actions.logoutError(error.message));\r\n  }\r\n});\r\n\r\n/*\r\n * GET @ /users/current\r\n * headers:\r\n *    Authorization: Bearer token\r\n *\r\n * 1. Забираем токен из стейта через getState()\r\n * 2. Если токена нет, выходим не выполняя никаких операций\r\n * 3. Если токен есть, добавляет его в HTTP-заголовок и выполянем операцию\r\n */\r\nconst getCurrentUser = () => async (dispatch, getState) => {\r\n  const {\r\n    auth: { token: persistedToken },\r\n  } = getState();\r\n\r\n  if (!persistedToken) {\r\n    return;\r\n  }\r\n\r\n  token.set(persistedToken);\r\n  dispatch(actions.getCurrentUserRequest());\r\n\r\n  try {\r\n    const response = await axios.get('/users/current');\r\n\r\n    dispatch(actions.getCurrentUserSuccess(response.data));\r\n  } catch (error) {\r\n    dispatch(actions.getCurrentUserError(error.message));\r\n  }\r\n};\r\nconst operations={ register, logOut, logIn, getCurrentUser }\r\nexport default operations;","import React from 'react';\r\nimport {useDispatch, useSelector } from 'react-redux';\r\nimport authSelectors from '../../redux/auth/auth-selectors';\r\nimport authOperations from '../../redux/auth/auth-operations';\r\n//import defaultAvatar from './default-avatar.png';\r\n\r\nconst styles = {\r\n  container: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    marginRight: 4,\r\n  },\r\n  name: {\r\n    fontWeight: 700,\r\n    marginRight: 12,\r\n  },\r\n};\r\n\r\nfunction UserMenu(){\r\n  const dispatch=useDispatch();\r\n  const name=useSelector(authSelectors.getUsername);\r\n return (<div style={styles.container}>\r\n    \r\n    <span style={styles.name}>Welcome, {name}</span>\r\n    <button type=\"button\" onClick={()=>dispatch(authOperations.logOut())\r\n    }>\r\n      Logout\r\n    </button>\r\n  </div>)\r\n}\r\n\r\nexport default UserMenu;\r\n","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst styles = {\r\n  link: {\r\n    display: 'inline-block',\r\n    textDecoration: 'none',\r\n    padding: 12,\r\n    fontWeight: 700,\r\n    color: '#2A363B',\r\n  },\r\n  activeLink: {\r\n    color: '#E84A5F',\r\n  },\r\n};\r\n\r\nconst AuthNav = () => (\r\n  <div>\r\n    <NavLink\r\n      to=\"/register\"\r\n      exact\r\n      style={styles.link}\r\n      activeStyle={styles.activeLink}\r\n    >\r\n      Регистрация\r\n    </NavLink>\r\n    <NavLink\r\n      to=\"/login\"\r\n      exact\r\n      style={styles.link}\r\n      activeStyle={styles.activeLink}\r\n    >\r\n      Логин\r\n    </NavLink>\r\n  </div>\r\n);\r\n\r\nexport default AuthNav;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Navigation from './Navigation';\r\nimport UserMenu from './UserMenu';\r\nimport AuthNav from './AuthNav';\r\nimport selectors from '../../redux/auth/auth-selectors';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst styles = {\r\n  header: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    borderBottom: '1px solid #2A363B',\r\n  },\r\n};\r\n\r\nconst AppBar = () => {\r\n  const isLoggedIn=useSelector(selectors.getIsLoggedIn)\r\nreturn(\r\n  <header style={styles.header}>\r\n    <Navigation />\r\n  {isLoggedIn?<UserMenu />: <AuthNav />}\r\n    \r\n  </header>)\r\n};\r\n\r\n/* const mapStateToProps = state => ({\r\n  isAuthenticated: selectors.getIsAuthenticated(state),\r\n}); */\r\n\r\nexport default connect()(AppBar);\r\n","import React,{useState} from 'react';\r\nimport { connect, useDispatch } from 'react-redux';\r\nimport authOperations from '../../redux/auth/auth-operations';\r\n\r\nconst styles = {\r\n  form: {\r\n    width: 320,\r\n  },\r\n  label: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    marginBottom: 15,\r\n  },\r\n};\r\n\r\nfunction LoginView(){\r\n  const dispatch=useDispatch();\r\n  const [email,setEmail]=useState('');\r\n  const [password,setPassword]=useState('');\r\n\r\n  const handleChange=({target:{name,value}})=>{\r\n    switch(name){\r\n      case 'email':\r\n        return setEmail(value);\r\n      case 'password':\r\n        return setPassword(value);\r\n      default:\r\n        return;      \r\n    }\r\n  }\r\n\r\n  const handleSubmit=e=>{\r\n    e.preventDefault();\r\n    dispatch(authOperations.logIn({email,password}));\r\n    setEmail('');\r\n    setPassword('');\r\n  }\r\n\r\n  return (\r\n      <div>\r\n        <h1>Страница логина</h1>\r\n\r\n        <form\r\n          onSubmit={handleSubmit}\r\n          style={styles.form}\r\n          autoComplete=\"off\"\r\n        >\r\n          <label style={styles.label}>\r\n            Почта\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              value={email}\r\n              onChange={handleChange}\r\n            />\r\n          </label>\r\n\r\n          <label style={styles.label}>\r\n            Пароль\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              value={password}\r\n              onChange={handleChange}\r\n            />\r\n          </label>\r\n\r\n          <button type=\"submit\">Войти</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n\r\n\r\nconst mapDispatchToProps = {\r\n  onLogin: authOperations.logIn,\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(LoginView);\r\n","import React, { useState } from 'react';\r\nimport { connect, useDispatch } from 'react-redux';\r\nimport authOperations from '../../redux/auth/auth-operations';\r\n\r\nconst styles = {\r\n  form: {\r\n    width: 320,\r\n  },\r\n  label: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    marginBottom: 15,\r\n  },\r\n};\r\n\r\nfunction RegisterView(){\r\n  const dispatch=useDispatch();\r\n  const [name,setName]=useState('');\r\n  const [email,setEmail]=useState('');\r\n  const [password,setPassword]=useState('');\r\n\r\n  const handleChange=({target:{name,value}})=>{\r\n    switch(name){\r\n      case 'name':\r\n        return setName(value);\r\n      case 'email':\r\n        return setEmail(value);\r\n      case 'password':\r\n        return setPassword(value);\r\n      default:\r\n        return;      \r\n    }\r\n  }\r\n const handleSubmit=e=>{\r\n   e.preventDefault();\r\n   dispatch(authOperations.register({name,email,password}));\r\n   setName('');\r\n   setEmail('');\r\n   setPassword('');\r\n }\r\n\r\n \r\n    return (\r\n      <div>\r\n        <h1>Страница регистрации</h1>\r\n\r\n        <form\r\n          onSubmit={handleSubmit}\r\n          autoComplete=\"off\"\r\n          style={styles.form}\r\n        >\r\n          <label style={styles.label}>\r\n            Имя\r\n            <input\r\n              type=\"text\"\r\n              name=\"name\"\r\n              value={name}\r\n              onChange={handleChange}\r\n            />\r\n          </label>\r\n\r\n          <label style={styles.label}>\r\n            Почта\r\n            <input\r\n              type=\"email\"\r\n              name=\"email\"\r\n              value={email}\r\n              onChange={handleChange}\r\n            />\r\n          </label>\r\n\r\n          <label style={styles.label}>\r\n            Пароль\r\n            <input\r\n              type=\"password\"\r\n              name=\"password\"\r\n              value={password}\r\n              onChange={handleChange}\r\n            />\r\n          </label>\r\n\r\n          <button type=\"submit\">Зарегистрироваться</button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n\r\n\r\nconst mapDispatchToProps = {\r\n  onRegister: authOperations.register,\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(RegisterView);\r\n","import React from 'react';\r\nimport s from './Filter.module.css'\r\nimport {connect} from 'react-redux'\r\nimport actions from '../../redux/contacts/actions'\r\nimport contactsSelector from '../../redux/contacts/contacts-selectors';\r\n\r\n\r\n\r\nconst Filter =({value,onChange})=>(\r\n  <label className={s.label}><b>Фильтр по имени</b><input className={\r\n    s.input\r\n  } type=\"Text\" value={value} onChange={onChange}/></label>\r\n\r\n);\r\nconst mapStateToProps=state=>({\r\n  value:contactsSelector.getFilter(state)\r\n}) \r\nconst mapDispatchToProps=dispatch=>({\r\n  onChange:e=>dispatch(actions.changeFilterContacts(e.target.value))\r\n})       \r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(Filter);","import a from '../contacts/actions'\r\nimport axios from 'axios'\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\n\r\naxios.defaults.baseURL = 'https://connections-api.herokuapp.com';\r\nconst fetchContacts = () => async dispatch => {\r\n  dispatch(a.fetchContactsRequest());\r\n  \r\n\r\n  try {\r\n    const { data } = await axios.get('/contacts');\r\n\r\n    dispatch(a.fetchContactsSuccess(data));\r\n  } catch (error) {\r\n    dispatch(a.fetchContactsError(error));\r\n  } }\r\n\r\n  const addContact = ({name,number}) => dispatch => {\r\n    const contact = {\r\n      id: uuidv4(),\r\n      name:name,\r\n      number:number,\r\n    };\r\n\r\n    \r\n\r\n    dispatch(a.addContactRequest());\r\n  \r\n    axios\r\n      .post('/contacts', contact)\r\n      .then(({ data }) => dispatch(a.addContactSuccess(data)))\r\n      .catch(error => dispatch(a.addContactError(error)));\r\n  \r\n    \r\n  };\r\n  \r\n  const deleteContact = contactId => dispatch => {\r\n    dispatch(a.deleteContactRequest());\r\n  \r\n    axios\r\n      .delete(`/contacts/${contactId}`)\r\n      .then(() => dispatch(a.deleteContactSuccess(contactId)))\r\n      .catch(error => dispatch(a.deleteContactError(error)));\r\n  };\r\n\r\nconst operations={fetchContacts,addContact,deleteContact}\r\n\r\nexport default operations;","import {useState} from 'react';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport s from './Form.module.css';\r\nimport {connect} from 'react-redux';\r\nimport operations from '../../redux/contacts/contacts-operations';\r\nimport contactSelector from '../../redux/contacts/contacts-selectors'\r\n\r\n\r\n\r\n\r\n\r\nfunction Form({onSubmit,entities}){\r\n  const [name,setName]=useState('');\r\n  const [number,setNumber]=useState('');\r\n\r\n  const nameInputId=uuidv4();\r\n  const numberInputId=uuidv4();\r\n\r\n  const handelChangeName=(event)=>{\r\n    const {value}=event.currentTarget;  \r\n    setName(value);\r\n  \r\n  }\r\n\r\n  const handelChangeNumber=(e)=>{\r\n    console.log(e);\r\n    const {value}=e.currentTarget;  \r\n    setNumber(value);\r\n\r\n  }\r\n\r\n    const handelSubmit=e=>{\r\n    e.preventDefault();\r\n    const user = entities.find(user => user.name === name);\r\n    if (!user){\r\n      onSubmit({name,number});\r\n    reset()\r\n\r\n    } else \r\n    alert (`${name} is already on contacts`)\r\n    reset()\r\n  }\r\n\r\n  const reset=()=>{\r\n      setName('');\r\n      setNumber('');\r\n  }\r\n\r\n  \r\n  return (\r\n    <>\r\n      <form className={s.form} onSubmit={handelSubmit}>\r\n        <label htmlFor={nameInputId}> Name </label>\r\n        <input className={s.input}\r\n              id={nameInputId}\r\n              onChange={handelChangeName}\r\n              value={name}\r\n              type=\"text\"\r\n              name=\"name\"\r\n              pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n              title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\r\n              required\r\n        />\r\n       <label htmlFor={numberInputId}> Number </label>\r\n       <input className={s.input}\r\n              id={numberInputId}\r\n              onChange={handelChangeNumber}\r\n              value={number}\r\n              type=\"tel\"\r\n              name=\"number\"\r\n              pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\r\n              title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\r\n              required\r\n       />\r\n       <button className={s.button}type=\"submit\">Add contact</button>\r\n    </form>\r\n\r\n</>\r\n);}\r\n\r\nconst mapStateToProps=state=>({\r\n  entities:contactSelector.getVisibleContacts(state)\r\n})\r\nconst mapDispatchToProps=dispatch=>({\r\n  \r\n  onSubmit:data=>dispatch(operations.addContact(data))\r\n})\r\n\r\n  export default connect(mapStateToProps,mapDispatchToProps)(Form);","\r\nimport s from './PersoneEditor.module.css';\r\nimport {connect, useDispatch} from 'react-redux';\r\n//import actions from '../../redux/contacts/actions';\r\nimport { useEffect } from 'react';\r\nimport operations from '../../redux/contacts/contacts-operations';\r\nimport contactsSelector from '../../redux/contacts/contacts-selectors';\r\n\r\n\r\n\r\nfunction PersonEditor({persons,onDeleteContacts}){\r\n  const dispatch=useDispatch();\r\n  \r\n  \r\n  useEffect(()=>{\r\n    dispatch(operations.fetchContacts())\r\n  },[dispatch]) \r\n\r\n   \r\n    return  (  <>\r\n      \r\n      <div>{persons.length? \r\n              <ul className={s.stats}>{persons.map((person)=>\r\n                <li className={s.item} key={person.id}>{person.name}:{person.number}\r\n                <button className={s.button}\r\n                    type=\"button\"\r\n                    onClick={() => onDeleteContacts(person.id)}>Удалить\r\n                </button>\r\n                </li>)}\r\n              </ul> : <p>No entries in the phone book</p>}\r\n            </div>  \r\n   </> )\r\n}\r\n\r\n\r\n\r\n const mapStateToProps=state=>({\r\n persons:contactsSelector.getVisibleContacts(state),\r\n})\r\n\r\n\r\nconst mapDispatchToProps=dispatch=>{\r\n  return{\r\n    onDeleteContacts:(id)=>dispatch(operations.deleteContact(id))\r\n  }\r\n}\r\n      \r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(PersonEditor);\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch} from 'react-redux';\r\nimport Filter from '../Filter/Filter';\r\nimport Form from '../Form/Form';\r\nimport PersonEditor from '../PersonEditor/PersonEditor';\r\n//import authSelectors from '../../redux/auth/auth-selectors';\r\nimport contactsOperations from '../../redux/contacts/contacts-operations'\r\n\r\nfunction ContactsView(){\r\n     const dispatch=useDispatch();\r\n     \r\n     useEffect(()=>dispatch(contactsOperations.fetchContacts()),[dispatch]);\r\n return (<>\r\n      <h1>Phonebook</h1>\r\n      <Form/> \r\n      <Filter/>\r\n      <h2>Contacts</h2>\r\n      <PersonEditor /> \r\n      </>)\r\n\r\n\r\n\r\n }\r\n\r\n\r\n\r\nexport default ContactsView;","\r\nimport contactsSelector from './redux/contacts/contacts-selectors'\r\nimport {connect} from 'react-redux'\r\nimport actions from './redux/contacts/actions';\r\nimport { Switch, Route} from 'react-router-dom';\r\nimport AppBar from './components/AppBar/AppBar';\r\nimport LoginView from './components/AppBar/LoginView';\r\nimport RegisterView from './components/AppBar/RegisterView';\r\nimport ContactsView from './components/AppBar/ContactsView';\r\n\r\n\r\n\r\nfunction App({formSubmitHandler,getVisibleContacts,deleteContacts}){\r\n  \r\n  return(\r\n    <><AppBar/>\r\n    <Switch>\r\n      <Route exact path='/register'>\r\n      <RegisterView/>\r\n      </Route>  \r\n      <Route exact path='/login'component={LoginView}/>\r\n      <Route exact path='/contacts'component={ContactsView}/>\r\n      \r\n      \r\n     \r\n      </Switch> \r\n    </>\r\n    \r\n)\r\n}\r\nconst mapStateToProps=state=>{\r\n  return {\r\n    items:contactsSelector.getItems(state),\r\n    filter:contactsSelector.getFilter(state)\r\n  }\r\n}\r\nconst mapDispatchToProps=dispatch=>{\r\n  return{\r\n    formSubmitHandler:value=> dispatch(actions.addContacts(value)),\r\n    getVisibleContacts:value=>dispatch(actions.filterContacts(value)),\r\n    deleteContacts:id=>dispatch(actions.deleteContacts(id)),\r\n    \r\n    \r\n\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(App);\r\n","import {combineReducers} from 'redux';\r\nimport { createReducer } from '@reduxjs/toolkit';\r\nimport a from './actions';\r\n//import oper from './contacts-operations'\r\n\r\nconst entities=createReducer([], \r\n  {\r\n    [a.fetchContactsSuccess]:(_,{payload})=>payload,\r\n    [a.addContactSuccess]:(state,{payload})=>[...state,payload],\r\n    [a.deleteContactSuccess]:(state,{payload})=>state.filter(({ id }) => id !== payload),\r\n    /* [oper.addContact]:(state,{payload})=>{\r\n      const user = state.find(user => user.name === payload.name);\r\n      if (user){console.log(user);return [state]} return [...state,payload]\r\n    } */\r\n\r\n  })\r\nconst isLoading=createReducer(false,{\r\n  [a.fetchContactsRequest]: () => true,\r\n  [a.fetchContactsSuccess]: () => false,\r\n  [a.fetchContactsError]: () => false,\r\n  [a.addContactRequest]: () => true,\r\n  [a.addContactSuccess]: () => false,\r\n  [a.addContactError]: () => false,\r\n  [a.deleteContactRequest]: () => true,\r\n  [a.deleteContactSuccess]: () => false,\r\n  [a.deleteContactError]: () => false,\r\n\r\n\r\n})\r\n\r\nconst error = createReducer(null, {\r\n  [a.fetchContactsRequest]: () => null,\r\n  [a.fetchContactsError]: () => null,\r\n});\r\n\r\nconst filterReducer=createReducer('', {\r\n  [a.changeFilterContacts]:(_,{payload})=>payload,\r\n})\r\n\r\nexport default combineReducers({\r\n    items:combineReducers({\r\n      entities,\r\n      isLoading,\r\n      error\r\n    }),\r\n    filter:filterReducer,\r\n});","import { createSlice } from \"@reduxjs/toolkit\";\r\nimport authOperations from './auth-operations'\r\nconst initialState={\r\n    user:{name:null, email:null},\r\n    token:null,\r\n    isLoggedIn:false,\r\n     \r\n};\r\nconst authSlice=createSlice({\r\n    name:'auth',\r\n    initialState,\r\n    extraReducers:{\r\n        [authOperations.register.fulfilled](state,action){\r\n            state.user=action.payload.user;\r\n            state.token=action.payload.token;\r\n            state.isLoggedIn=true;\r\n\r\n        },\r\n        [authOperations.logIn.fulfilled](state,action){\r\n            state.user=action.payload.user;\r\n            state.token=action.payload.token;\r\n            state.isLoggedIn=true;\r\n\r\n        },\r\n        [authOperations.logOut.fulfilled](state){\r\n            state.user={name:null, email:null};\r\n            state.token=null;\r\n            state.isLoggedIn=false;\r\n\r\n        }\r\n    },\r\n});\r\nexport default authSlice.reducer;","import { configureStore, getDefaultMiddleware } from '@reduxjs/toolkit';\r\n// import logger from 'redux-logger';\r\nimport {\r\n  persistStore,\r\n  persistReducer,\r\n  FLUSH,\r\n  REHYDRATE,\r\n  PAUSE,\r\n  PERSIST,\r\n  PURGE,\r\n  REGISTER,\r\n} from 'redux-persist';\r\nimport storage from 'redux-persist/lib/storage';\r\nimport  contactsReducer from './contacts/contactsReduser';\r\nimport  authReducer from './auth/auth-slice';\r\n\r\nconst middleware = [\r\n  ...getDefaultMiddleware({\r\n    serializableCheck: {\r\n      ignoredActions: [FLUSH, REHYDRATE, PAUSE, PERSIST, PURGE, REGISTER],\r\n    },\r\n  }),\r\n  // logger,\r\n];\r\n\r\nconst authPersistConfig = {\r\n  key: 'auth',\r\n  storage,\r\n  whitelist: ['token'],\r\n};\r\n\r\nconst store = configureStore({\r\n  reducer: {\r\n    auth: persistReducer(authPersistConfig, authReducer),\r\n    contacts: contactsReducer,\r\n  },\r\n  middleware,\r\n  devTools: process.env.NODE_ENV === 'development',\r\n});\r\n\r\nconst persistor = persistStore(store);\r\nconst storePersistor={ store, persistor }\r\nexport default storePersistor;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport { PersistGate } from 'redux-persist/integration/react';\r\nimport './index.css';\r\nimport App from './App';\r\nimport s from './redux/store'\r\nimport {Provider} from 'react-redux'\r\n\r\nconsole.log(s.store);\r\nconsole.log(s.store.getState());\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={s.store}>\r\n    <PersistGate loading={null} persistor={s.persistor}>\r\n      <BrowserRouter>\r\n    <App />\r\n    </BrowserRouter>\r\n    </PersistGate>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}